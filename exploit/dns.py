import dnslib.server, requests

IP = requests.get('https://api.ipify.org').text
print("%s:53"%IP)

class Resolver:
     def resolve(self, request, handler):
         reply = request.reply()
         print("dns req")
         reply.add_answer(*dnslib.server.RR.fromZone("fdr.example.com. 60 A %s"%IP))
         return reply

dnslib.server.DNSServer(Resolver()).start()
